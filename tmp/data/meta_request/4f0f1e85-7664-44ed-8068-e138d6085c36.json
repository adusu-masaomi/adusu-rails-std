[{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/helpers/sessions_helper.rb","line":10,"method":"current_user","message":"  \u001b[1m\u001b[36mUser Load (0.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = $1 LIMIT $2\u001b[0m  [[\"id\", 1], [\"LIMIT\", 1]]","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/helpers/sessions_helper.rb","line":10,"method":"current_user","message":"  ↳ app/helpers/sessions_helper.rb:10:in `current_user'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"SELECT \"users\".* FROM \"users\" WHERE \"users\".\"id\" = $1 LIMIT $2","name":"User Load","binds":[{"name":"id","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":8,"range":"-9223372036854775808...9223372036854775808"},"original_attribute":null,"value":1,"value_for_database":1},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"type_casted_binds":[1,1],"statement_name":"a1","connection":"Not JSON Encodable","filename":"c:/work/adusu_std/app/helpers/sessions_helper.rb","line":10,"method":"current_user"},"time":"2024-10-08T16:25:23.106+09:00","transaction_id":"e808554455cb4d98a87f","end":"2024-10-08T16:25:23.108+09:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":1.7135},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":1038,"method":"set_construction_datum","message":"  \u001b[1m\u001b[36mConstructionDatum Load (0.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"construction_data\".* FROM \"construction_data\" WHERE \"construction_data\".\"id\" = $1 LIMIT $2\u001b[0m  [[\"id\", 1], [\"LIMIT\", 1]]","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":1038,"method":"set_construction_datum","message":"  ↳ app/controllers/construction_data_controller.rb:1038:in `set_construction_datum'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"SELECT \"construction_data\".* FROM \"construction_data\" WHERE \"construction_data\".\"id\" = $1 LIMIT $2","name":"ConstructionDatum Load","binds":[{"name":"id","value_before_type_cast":"1","type":{"precision":null,"scale":null,"limit":8,"range":"-9223372036854775808...9223372036854775808"},"original_attribute":null,"value":"1","value_for_database":1},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"type_casted_binds":[1,1],"statement_name":"a4","connection":"Not JSON Encodable","filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":1038,"method":"set_construction_datum"},"time":"2024-10-08T16:25:23.109+09:00","transaction_id":"e808554455cb4d98a87f","end":"2024-10-08T16:25:23.110+09:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":1.105},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":512,"method":"create_or_update_site","message":"  \u001b[1m\u001b[36mSite Load (0.4ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"sites\".* FROM \"sites\" WHERE (name = '') ORDER BY \"sites\".\"id\" ASC LIMIT $1\u001b[0m  [[\"LIMIT\", 1]]","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":512,"method":"create_or_update_site","message":"  ↳ app/controllers/construction_data_controller.rb:512:in `create_or_update_site'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"SELECT \"sites\".* FROM \"sites\" WHERE (name = '') ORDER BY \"sites\".\"id\" ASC LIMIT $1","name":"Site Load","binds":[{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"type_casted_binds":[1],"statement_name":null,"connection":"Not JSON Encodable","filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":512,"method":"create_or_update_site"},"time":"2024-10-08T16:25:23.111+09:00","transaction_id":"e808554455cb4d98a87f","end":"2024-10-08T16:25:23.117+09:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":6.5366},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":1043,"method":"construction_datum_params","message":null,"level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update","message":"  \u001b[1m\u001b[36mTRANSACTION (0.3ms)\u001b[0m  \u001b[1m\u001b[35mBEGIN\u001b[0m","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update","message":"  ↳ app/controllers/construction_data_controller.rb:292:in `block in update'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"BEGIN","name":"TRANSACTION","binds":[],"type_casted_binds":[],"statement_name":null,"connection":"Not JSON Encodable","filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update"},"time":"2024-10-08T16:25:23.120+09:00","transaction_id":"e808554455cb4d98a87f","end":"2024-10-08T16:25:23.122+09:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":1.5158},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update","message":"  \u001b[1m\u001b[36mConstructionDatum Exists? (0.7ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"construction_data\" WHERE \"construction_data\".\"construction_code\" = $1 AND \"construction_data\".\"id\" != $2 LIMIT $3\u001b[0m  [[\"construction_code\", \"       -\"], [\"id\", 1], [\"LIMIT\", 1]]","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update","message":"  ↳ app/controllers/construction_data_controller.rb:292:in `block in update'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"SELECT 1 AS one FROM \"construction_data\" WHERE \"construction_data\".\"construction_code\" = $1 AND \"construction_data\".\"id\" != $2 LIMIT $3","name":"ConstructionDatum Exists?","binds":[{"name":"construction_code","value_before_type_cast":"       -","type":{"true":"t","false":"f","precision":null,"scale":null,"limit":null},"original_attribute":null,"_unboundable":null,"value":"       -","value_for_database":"       -"},{"name":"id","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":8,"range":"-9223372036854775808...9223372036854775808"},"original_attribute":null,"_unboundable":null,"value":1,"value_for_database":1},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"type_casted_binds":["       -",1,1],"statement_name":null,"connection":"Not JSON Encodable","filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update"},"time":"2024-10-08T16:25:23.122+09:00","transaction_id":"e808554455cb4d98a87f","end":"2024-10-08T16:25:23.124+09:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":1.8049},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update","message":"  \u001b[1m\u001b[36mConstructionDatum Update (5.5ms)\u001b[0m  \u001b[1m\u001b[33mUPDATE \"construction_data\" SET \"personnel\" = $1, \"updated_at\" = $2 WHERE \"construction_data\".\"id\" = $3\u001b[0m  [[\"personnel\", \"test\"], [\"updated_at\", \"2024-10-08 16:25:23.125057\"], [\"id\", 1]]","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update","message":"  ↳ app/controllers/construction_data_controller.rb:292:in `block in update'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"UPDATE \"construction_data\" SET \"personnel\" = $1, \"updated_at\" = $2 WHERE \"construction_data\".\"id\" = $3","name":"ConstructionDatum Update","binds":[{"name":"personnel","value_before_type_cast":"test","type":{"true":"t","false":"f","precision":null,"scale":null,"limit":null},"original_attribute":null,"value":"test","value_for_database":"test"},{"name":"updated_at","value_before_type_cast":"2024-10-08T16:25:23.125+09:00","type":{"precision":6,"scale":null,"limit":null},"original_attribute":null,"value":"2024-10-08T16:25:23.125+09:00","value_for_database":"2024-10-08T16:25:23.125+09:00"},{"name":"id","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":8,"range":"-9223372036854775808...9223372036854775808"},"original_attribute":null,"_unboundable":null,"value":1,"value_for_database":1}],"type_casted_binds":["test","2024-10-08 16:25:23.125057",1],"statement_name":null,"connection":"Not JSON Encodable","filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update"},"time":"2024-10-08T16:25:23.125+09:00","transaction_id":"e808554455cb4d98a87f","end":"2024-10-08T16:25:23.135+09:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":9.6386},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update","message":"  \u001b[1m\u001b[36mTRANSACTION (0.4ms)\u001b[0m  \u001b[1m\u001b[35mCOMMIT\u001b[0m","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update","message":"  ↳ app/controllers/construction_data_controller.rb:292:in `block in update'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"COMMIT","name":"TRANSACTION","binds":[],"type_casted_binds":[],"statement_name":null,"connection":"Not JSON Encodable","filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":292,"method":"block in update"},"time":"2024-10-08T16:25:23.136+09:00","transaction_id":"e808554455cb4d98a87f","end":"2024-10-08T16:25:23.137+09:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":1.4120000000000001},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":322,"method":"block in update","message":"  \u001b[1m\u001b[36mConstructionCost Load (0.4ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"construction_costs\".* FROM \"construction_costs\" WHERE \"construction_costs\".\"construction_datum_id\" = $1 ORDER BY \"construction_costs\".\"id\" ASC LIMIT $2\u001b[0m  [[\"construction_datum_id\", 1], [\"LIMIT\", 1]]","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":322,"method":"block in update","message":"  ↳ app/controllers/construction_data_controller.rb:322:in `block in update'","level":"debug"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"sql.active_record","payload":{"sql":"SELECT \"construction_costs\".* FROM \"construction_costs\" WHERE \"construction_costs\".\"construction_datum_id\" = $1 ORDER BY \"construction_costs\".\"id\" ASC LIMIT $2","name":"ConstructionCost Load","binds":[{"name":"construction_datum_id","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":4,"range":"-2147483648...2147483648"},"original_attribute":null,"_unboundable":null,"value":1,"value_for_database":1},{"name":"LIMIT","value_before_type_cast":1,"type":{"precision":null,"scale":null,"limit":null},"original_attribute":null,"value":1}],"type_casted_binds":[1,1],"statement_name":"a6","connection":"Not JSON Encodable","filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":322,"method":"block in update"},"time":"2024-10-08T16:25:23.138+09:00","transaction_id":"e808554455cb4d98a87f","end":"2024-10-08T16:25:23.140+09:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":1.4989000000000001},{"name":"meta_request.log","payload":{"filename":"c:/work/adusu_std/app/controllers/construction_data_controller.rb","line":334,"method":"block (2 levels) in update","message":null,"level":"info"},"time":0,"transaction_id":0,"end":0,"children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":0.0},{"name":"process_action.action_controller","payload":{"controller":"ConstructionDataController","action":"update","request":"Not JSON Encodable","params":{"utf8":"✓","_method":"patch","authenticity_token":"[FILTERED]","construction_datum":{"construction_code":"       -","quotation_header_id":"","delivery_slip_header_id":"","construction_name":"-","alias_name":"-","site_id":"","reception_date(1i)":"2016","reception_date(2i)":"9","reception_date(3i)":"8","customer_id":"1","personnel":"test","construction_period_start(1i)":"2021","construction_period_start(2i)":"1","construction_period_start(3i)":"1","construction_period_end(1i)":"2021","construction_period_end(2i)":"1","construction_period_end(3i)":"1","post":"","house_number":"","address2":"","estimated_amount":"","final_amount":"","billing_due_date":["","",""],"deposit_due_date":"","deposit_due_date_hide":[""],"order_flag":"1","billed_flag":"1","calculated_flag":"0"},"addressX":"","controller":"construction_data","action":"update","id":"1"},"headers":{"SCRIPT_NAME":"","QUERY_STRING":"","SERVER_SOFTWARE":"puma 6.3.0 Mugi No Toki Itaru","GATEWAY_INTERFACE":"CGI/1.2","REQUEST_METHOD":"PATCH","REQUEST_PATH":"/construction_data/1","REQUEST_URI":"/construction_data/1","SERVER_PROTOCOL":"HTTP/1.1","HTTP_HOST":"localhost:3000","HTTP_CONNECTION":"keep-alive","CONTENT_LENGTH":"1615","HTTP_CACHE_CONTROL":"max-age=0","HTTP_SEC_CH_UA":"\"Google Chrome\";v=\"129\", \"Not=A?Brand\";v=\"8\", \"Chromium\";v=\"129\"","HTTP_SEC_CH_UA_MOBILE":"?0","HTTP_SEC_CH_UA_PLATFORM":"\"Windows\"","HTTP_ORIGIN":"http://localhost:3000","CONTENT_TYPE":"application/x-www-form-urlencoded","HTTP_UPGRADE_INSECURE_REQUESTS":"1","HTTP_USER_AGENT":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/129.0.0.0 Safari/537.36","HTTP_ACCEPT":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","HTTP_SEC_FETCH_SITE":"same-origin","HTTP_SEC_FETCH_MODE":"navigate","HTTP_SEC_FETCH_USER":"?1","HTTP_SEC_FETCH_DEST":"document","HTTP_REFERER":"http://localhost:3000/construction_data/1/edit","HTTP_ACCEPT_ENCODING":"gzip, deflate, br, zstd","HTTP_ACCEPT_LANGUAGE":"ja,en-US;q=0.9,en;q=0.8,zh-TW;q=0.7,zh;q=0.6","HTTP_COOKIE":"keep-position-%2Fquotation_headers=0; keep-position-%2Fdelivery_slip_headers=0; recent_search_history=%7B%22id_eq%22%3D%3E%221%22%2C+%22construction_code_cont%22%3D%3E%22%22%2C+%22customer_id_eq%22%3D%3E%22%22%2C+%22order_flag_eq%22%3D%3E%22%22%2C+%22billed_flag_eq%22%3D%3E%22%22%2C+%22calculated_flag_eq%22%3D%3E%22%22%7D; _adusu_session=YjNOUWYvWmJXMVpmRE9WdFpDR0ZTSFM0ZnJWa0N4Z0NPcjRFTGFxd0xBZERiTUorNXRxUlYrcG5xSXExT0ptbDBnRDFlTUNEMGVDa2lLbVZzY3ZCOWpwbTlMb3ZCOWh4Ni9DQ0luOGd2bDdnZTk0cXZWaElseW4wUW9lbm91UXFzWVNMVnVaK2pOWTY4V0plYjVRWVZVOSs1ZEFYMTV5ditOdmQzbUtaajJ3PS0tc1N5TmVNL1NodzM3KzNPMThSTGsvUT09--d6c08344b6209ae21e1a4f383b6432e5be8d2159","SERVER_NAME":"localhost","SERVER_PORT":"3000","PATH_INFO":"/construction_data/1","REMOTE_ADDR":"::1","HTTP_VERSION":"HTTP/1.1","ROUTES_21000_SCRIPT_NAME":"","ORIGINAL_FULLPATH":"/construction_data/1","ORIGINAL_SCRIPT_NAME":""},"format":"html","method":"PATCH","path":"/construction_data/1","response":"Not JSON Encodable","status":302,"view_runtime":null,"db_runtime":8.233700064010918},"time":"2024-10-08T16:25:23.105+09:00","transaction_id":"e808554455cb4d98a87f","end":"2024-10-08T16:25:23.141+09:00","children":[],"cpu_time_start":0,"cpu_time_finish":0,"allocation_count_start":0,"allocation_count_finish":0,"duration":36.247}]