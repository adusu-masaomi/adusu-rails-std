Started GET "/quotation_material_headers/new?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:07:48 +0900
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by QuotationMaterialHeadersController#new as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1"}
  [1m[35m (1.2ms)[0m  [1m[34mSELECT MAX("quotation_material_headers"."quotation_code") FROM "quotation_material_headers" WHERE (LEFT(quotation_code,8) = '20241127')[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:389:in `get_last_quotation_code_select'
  [1m[36mUser Load (4.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/new.html.erb within layouts/application
  [1m[36mConstructionDatum Load (9.8ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:34
  [1m[36mQuotationMaterialHeader Load (0.6ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = $1[0m  [["construction_datum_id", 2877]]
  ↳ app/views/quotation_material_headers/_form.html.erb:40:in `map'
  [1m[36mSupplierMaster Load (1.1ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:51
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:91
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:94
  [1m[36mSupplierResponsible Load (1.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:107
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:113
  [1m[36mMaterialMaster Load (12.9ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mUnitMaster Load (0.8ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mMakerMaster Load (0.9ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialCategory Load (0.9ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 669.2ms | Allocations: 574496)
  [1m[36mQuotationMaterialHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."quotation_code" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["quotation_code", "2024112701"], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_form.html.erb:454
  Rendered quotation_material_headers/_form.html.erb (Duration: 1160.7ms | Allocations: 906802)
  Rendered quotation_material_headers/new.html.erb within layouts/application (Duration: 1217.6ms | Allocations: 926715)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 6795.2ms | Allocations: 3015768)
Completed 200 OK in 6944ms (Views: 6750.1ms | ActiveRecord: 84.0ms | Allocations: 3058404)


Started GET "/quotation_material_headerz/email_select?id=&supplier_id=1&supplier_id_1=&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=false&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2877" for ::1 at 2024-11-27 17:07:56 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"", "supplier_id"=>"1", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"false", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2877"}
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1595:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1596:in `email_select'
  [1m[36mPurchaseOrderDatum Load (2.2ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 1], ["construction_datum_id", 2877], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1599:in `email_select'
  [1m[36mQuotationMaterialHeader Load (0.8ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1622:in `email_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1655:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1657:in `email_select'
  [1m[36mCACHE QuotationMaterialHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1663:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 1.0ms | Allocations: 557)
Completed 200 OK in 61ms (Views: 11.6ms | ActiveRecord: 8.7ms | Allocations: 19103)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=1&construction_datum_id=2877&last_header_number=" for ::1 at 2024-11-27 17:07:57 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"1", "construction_datum_id"=>"2877", "last_header_number"=>""}
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 1.2ms | Allocations: 92)
Completed 200 OK in 10ms (Views: 3.1ms | ActiveRecord: 0.0ms | Allocations: 2041)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 17:07:57 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms | Allocations: 13582)


  
NoMethodError (undefined method `>' for nil:NilClass

    if $seq_max > 0 && $seq == 0
                ^):
  
app/controllers/quotation_material_headers_controller.rb:1744:in `set_sequence'
Started GET "/material_masterz/get_material_id?material_code=WN1001" for ::1 at 2024-11-27 17:08:03 +0900
Processing by MaterialMastersController#get_material_id as */*
  Parameters: {"material_code"=>"WN1001"}
  [1m[35m (1.8ms)[0m  [1m[34mSELECT "material_masters"."id" FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND (id is NOT NULL)[0m  [["material_code", "WN1001"]]
  ↳ app/controllers/material_masters_controller.rb:102:in `get_material_id'
  Rendering material_masters/get_material_id.js.erb
  Rendered material_masters/get_material_id.js.erb (Duration: 0.5ms | Allocations: 128)
Completed 200 OK in 14ms (Views: 6.0ms | ActiveRecord: 1.8ms | Allocations: 4558)


Started GET "/quotation_material_headerz/material_select?id=495&supplier_master_id=1" for ::1 at 2024-11-27 17:08:03 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"495", "supplier_master_id"=>"1"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:356:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:357:in `material_select'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:359:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:362:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:374:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:376:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 1.0ms | Allocations: 189)
Completed 200 OK in 28ms (Views: 2.7ms | ActiveRecord: 3.9ms | Allocations: 11476)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 17:08:56 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 13521)


  
NoMethodError (undefined method `>' for nil:NilClass

    if $seq_max > 0 && $seq == 0
                ^):
  
app/controllers/quotation_material_headers_controller.rb:1744:in `set_sequence'
Started GET "/material_masterz/get_material_id?material_code=WN5001" for ::1 at 2024-11-27 17:09:06 +0900
Processing by MaterialMastersController#get_material_id as */*
  Parameters: {"material_code"=>"WN5001"}
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "material_masters"."id" FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND (id is NOT NULL)[0m  [["material_code", "WN5001"]]
  ↳ app/controllers/material_masters_controller.rb:102:in `get_material_id'
  Rendering material_masters/get_material_id.js.erb
  Rendered material_masters/get_material_id.js.erb (Duration: 0.1ms | Allocations: 7)
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 1.4ms | Allocations: 3037)


Started GET "/quotation_material_headerz/material_select?id=524&supplier_master_id=1" for ::1 at 2024-11-27 17:09:06 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"524", "supplier_master_id"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:356:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:357:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:359:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:362:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:374:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:376:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 0.0ms | Allocations: 14)
Completed 200 OK in 24ms (Views: 0.9ms | ActiveRecord: 3.1ms | Allocations: 10910)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 17:09:12 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 13487)


  
NoMethodError (undefined method `>' for nil:NilClass

    if $seq_max > 0 && $seq == 0
                ^):
  
app/controllers/quotation_material_headers_controller.rb:1744:in `set_sequence'
Started GET "/quotation_material_headers?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:10:30 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (1.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (9.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (2.2ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.1ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 272.0ms | Allocations: 211935)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1334.3ms | Allocations: 1050694)
Completed 200 OK in 1356ms (Views: 1321.5ms | ActiveRecord: 17.8ms | Allocations: 1055287)


Started GET "/quotation_material_headers/new?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:10:33 +0900
Processing by QuotationMaterialHeadersController#new as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("quotation_material_headers"."quotation_code") FROM "quotation_material_headers" WHERE (LEFT(quotation_code,8) = '20241127')[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:389:in `get_last_quotation_code_select'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/new.html.erb within layouts/application
  [1m[36mConstructionDatum Load (6.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:34
  [1m[36mQuotationMaterialHeader Load (0.7ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = $1[0m  [["construction_datum_id", 2877]]
  ↳ app/views/quotation_material_headers/_form.html.erb:40:in `map'
  [1m[36mSupplierMaster Load (0.8ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:51
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:91
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:94
  [1m[36mSupplierResponsible Load (0.5ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:107
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:113
  [1m[36mMaterialMaster Load (10.1ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mUnitMaster Load (0.7ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.1ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mMakerMaster Load (3.1ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialCategory Load (0.5ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 654.0ms | Allocations: 548227)
  [1m[36mQuotationMaterialHeader Load (0.6ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."quotation_code" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["quotation_code", "2024112701"], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_form.html.erb:454
  Rendered quotation_material_headers/_form.html.erb (Duration: 933.6ms | Allocations: 789707)
  Rendered quotation_material_headers/new.html.erb within layouts/application (Duration: 935.5ms | Allocations: 790503)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1797.2ms | Allocations: 1626835)
Completed 200 OK in 1807ms (Views: 1774.4ms | ActiveRecord: 25.0ms | Allocations: 1631266)


Started GET "/quotation_material_headerz/email_select?id=&supplier_id=1&supplier_id_1=&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=false&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2877" for ::1 at 2024-11-27 17:10:36 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"", "supplier_id"=>"1", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"false", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2877"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1595:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1596:in `email_select'
  [1m[36mPurchaseOrderDatum Load (0.7ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 1], ["construction_datum_id", 2877], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1599:in `email_select'
  [1m[36mQuotationMaterialHeader Load (0.3ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1622:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1655:in `email_select'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1657:in `email_select'
  [1m[36mCACHE QuotationMaterialHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1663:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 0.2ms | Allocations: 326)
Completed 200 OK in 22ms (Views: 1.1ms | ActiveRecord: 2.7ms | Allocations: 11949)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=1&construction_datum_id=2877&last_header_number=" for ::1 at 2024-11-27 17:10:36 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"1", "construction_datum_id"=>"2877", "last_header_number"=>""}
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.0ms | Allocations: 6)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 1741)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 17:10:37 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 1.3ms | Allocations: 115)
Completed 200 OK in 14ms (Views: 10.8ms | ActiveRecord: 0.0ms | Allocations: 2007)


Started GET "/material_masterz/get_material_id?material_code=WN5001" for ::1 at 2024-11-27 17:10:42 +0900
Processing by MaterialMastersController#get_material_id as */*
  Parameters: {"material_code"=>"WN5001"}
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "material_masters"."id" FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND (id is NOT NULL)[0m  [["material_code", "WN5001"]]
  ↳ app/controllers/material_masters_controller.rb:102:in `get_material_id'
  Rendering material_masters/get_material_id.js.erb
  Rendered material_masters/get_material_id.js.erb (Duration: 0.1ms | Allocations: 7)
Completed 200 OK in 10ms (Views: 1.7ms | ActiveRecord: 1.5ms | Allocations: 3034)


Started GET "/quotation_material_headerz/material_select?id=524&supplier_master_id=1" for ::1 at 2024-11-27 17:10:42 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"524", "supplier_master_id"=>"1"}
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:356:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:357:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:359:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:362:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:374:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:376:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 0.0ms | Allocations: 14)
Completed 200 OK in 26ms (Views: 0.9ms | ActiveRecord: 3.8ms | Allocations: 10917)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 17:10:45 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 0.1ms | Allocations: 9)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 1742)


Started GET "/quotation_material_headerz/material_select?id=527&supplier_master_id=1" for ::1 at 2024-11-27 17:10:58 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"527", "supplier_master_id"=>"1"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 527]]
  ↳ app/controllers/quotation_material_headers_controller.rb:356:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 527]]
  ↳ app/controllers/quotation_material_headers_controller.rb:357:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 527]]
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 527]]
  ↳ app/controllers/quotation_material_headers_controller.rb:359:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 527]]
  ↳ app/controllers/quotation_material_headers_controller.rb:362:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 527]]
  ↳ app/controllers/quotation_material_headers_controller.rb:374:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 527]]
  ↳ app/controllers/quotation_material_headers_controller.rb:376:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 0.0ms | Allocations: 14)
Completed 200 OK in 21ms (Views: 0.8ms | ActiveRecord: 2.7ms | Allocations: 10910)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 17:11:02 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 0.3ms | Allocations: 9)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 1742)


Started GET "/quotation_material_headerz/material_select?id=529&supplier_master_id=1" for ::1 at 2024-11-27 17:11:14 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"529", "supplier_master_id"=>"1"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 529]]
  ↳ app/controllers/quotation_material_headers_controller.rb:356:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 529]]
  ↳ app/controllers/quotation_material_headers_controller.rb:357:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 529]]
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 529]]
  ↳ app/controllers/quotation_material_headers_controller.rb:359:in `material_select'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 529]]
  ↳ app/controllers/quotation_material_headers_controller.rb:362:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 529]]
  ↳ app/controllers/quotation_material_headers_controller.rb:374:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 529]]
  ↳ app/controllers/quotation_material_headers_controller.rb:376:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 0.0ms | Allocations: 14)
Completed 200 OK in 22ms (Views: 1.1ms | ActiveRecord: 3.6ms | Allocations: 10909)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 17:11:26 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 0.1ms | Allocations: 9)
Completed 200 OK in 5ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 1742)


Started GET "/quotation_material_headerz/material_select?id=1922&supplier_master_id=1" for ::1 at 2024-11-27 17:11:44 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"1922", "supplier_master_id"=>"1"}
  [1m[35m (3.8ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1922]]
  ↳ app/controllers/quotation_material_headers_controller.rb:356:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1922]]
  ↳ app/controllers/quotation_material_headers_controller.rb:357:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1922]]
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1922]]
  ↳ app/controllers/quotation_material_headers_controller.rb:359:in `material_select'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1922]]
  ↳ app/controllers/quotation_material_headers_controller.rb:362:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1922]]
  ↳ app/controllers/quotation_material_headers_controller.rb:374:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1922]]
  ↳ app/controllers/quotation_material_headers_controller.rb:376:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 0.0ms | Allocations: 14)
Completed 200 OK in 27ms (Views: 1.1ms | ActiveRecord: 6.9ms | Allocations: 10910)


Started GET "/quotation_material_headerz/email_select?id=&supplier_id=2&supplier_id_1=&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=false&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2877" for ::1 at 2024-11-27 17:12:34 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"", "supplier_id"=>"2", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"false", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2877"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1595:in `email_select'
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1596:in `email_select'
  [1m[36mPurchaseOrderDatum Load (1.1ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 2], ["construction_datum_id", 2877], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1599:in `email_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1605:in `email_select'
  [1m[35m (0.8ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 2], ["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1609:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1613:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 2], ["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1617:in `email_select'
  [1m[36mQuotationMaterialHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1663:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 0.2ms | Allocations: 116)
Completed 200 OK in 39ms (Views: 1.3ms | ActiveRecord: 5.2ms | Allocations: 17270)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=2&construction_datum_id=2877&last_header_number=" for ::1 at 2024-11-27 17:12:35 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"2", "construction_datum_id"=>"2877", "last_header_number"=>""}
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "purchase_order_data"."purchase_order_code" FROM "purchase_order_data" WHERE "purchase_order_data"."construction_datum_id" = $1 AND "purchase_order_data"."supplier_master_id" = $2 AND (id is NOT NULL)[0m  [["construction_datum_id", 2877], ["supplier_master_id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1761:in `get_purchase_order_code'
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.0ms | Allocations: 7)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 1.0ms | Allocations: 3218)


Started POST "/quotation_material_headers" for ::1 at 2024-11-27 17:12:35 +0900
Processing by QuotationMaterialHeadersController#create as PDF
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"[FILTERED]", "quotation_material_header"=>{"quotation_code"=>"2024112701", "construction_datum_id"=>"2877", "supplier_master_id"=>"2", "requested_date"=>"2024/11/27", "last_header_number"=>"", "purchase_order_code"=>"C2489", "empty"=>"", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "responsible"=>"1", "email"=>"1", "delivery_place_flag"=>"", "quotation_email_flag_1"=>"0", "quotation_email_flag_2"=>"0", "quotation_email_flag_3"=>"0", "order_email_flag_1"=>"0", "order_email_flag_2"=>"0", "order_email_flag_3"=>"0", "notes"=>"", "all_bid_flag_1"=>"0", "all_bid_flag_2"=>"0", "all_bid_flag_3"=>"0", "sent_flag"=>"7", "quotation_email_flag"=>"false", "material_id_hide"=>"524", "id"=>"", "company_id"=>"1", "total_quotation_price_1"=>"0", "total_quotation_price_2"=>"0", "total_quotation_price_3"=>"0", "force_order_flag"=>"0", "total_order_price_1"=>"0", "total_order_price_2"=>"0", "total_order_price_3"=>"0", "quotation_material_details_attributes"=>{"1732695086616"=>{"sequential_id"=>"4", "sequential_id_hide"=>"", "sort_order"=>"", "quotation_unit_price_1"=>"", "quotation_unit_price_2"=>"", "quotation_unit_price_3"=>"", "material_id"=>"1922", "quantity"=>"1", "unit_master_id"=>"3", "_destroy"=>"false", "quotation_price_1"=>"", "quotation_price_2"=>"", "quotation_price_3"=>"", "material_code"=>"WN5064", "material_name"=>"フルカラー埋込ネームスイッチＥ", "maker_id"=>"2", "list_price"=>"1230", "bid_flag_1"=>"0", "bid_flag_2"=>"0", "bid_flag_3"=>"0", "notes"=>"", "material_category_id"=>"", "quotation_email_flag_1"=>"0", "order_email_flag_1"=>"0", "quotation_email_flag_2"=>"0", "order_email_flag_2"=>"0", "quotation_email_flag_3"=>"0", "order_email_flag_3"=>"0", "maker_id_hide"=>"", "unit_id_hide"=>"", "material_category_id_hide"=>""}, "1732695062708"=>{"sequential_id"=>"2", "sequential_id_hide"=>"", "sort_order"=>"", "quotation_unit_price_1"=>"", "quotation_unit_price_2"=>"", "quotation_unit_price_3"=>"", "material_id"=>"529", "quantity"=>"3", "unit_master_id"=>"3", "_destroy"=>"false", "quotation_price_1"=>"", "quotation_price_2"=>"", "quotation_price_3"=>"", "material_code"=>"WN5063", "material_name"=>"埋込ネームスイッチＤ", "maker_id"=>"1", "list_price"=>"780", "bid_flag_1"=>"0", "bid_flag_2"=>"0", "bid_flag_3"=>"0", "notes"=>"", "material_category_id"=>"", "quotation_email_flag_1"=>"0", "order_email_flag_1"=>"0", "quotation_email_flag_2"=>"0", "order_email_flag_2"=>"0", "quotation_email_flag_3"=>"0", "order_email_flag_3"=>"0", "maker_id_hide"=>"", "unit_id_hide"=>"", "material_category_id_hide"=>""}, "1732695045440"=>{"sequential_id"=>"3", "sequential_id_hide"=>"", "sort_order"=>"", "quotation_unit_price_1"=>"", "quotation_unit_price_2"=>"", "quotation_unit_price_3"=>"", "material_id"=>"527", "quantity"=>"2", "unit_master_id"=>"3", "_destroy"=>"false", "quotation_price_1"=>"", "quotation_price_2"=>"", "quotation_price_3"=>"", "material_code"=>"WN5061", "material_name"=>"埋込ネームスイッチＢ", "maker_id"=>"2", "list_price"=>"280", "bid_flag_1"=>"0", "bid_flag_2"=>"0", "bid_flag_3"=>"0", "notes"=>"", "material_category_id"=>"2", "quotation_email_flag_1"=>"0", "order_email_flag_1"=>"0", "quotation_email_flag_2"=>"0", "order_email_flag_2"=>"0", "quotation_email_flag_3"=>"0", "order_email_flag_3"=>"0", "maker_id_hide"=>"", "unit_id_hide"=>"", "material_category_id_hide"=>""}, "1732695037196"=>{"sequential_id"=>"1", "sequential_id_hide"=>"", "sort_order"=>"", "quotation_unit_price_1"=>"", "quotation_unit_price_2"=>"", "quotation_unit_price_3"=>"", "material_id"=>"524", "quantity"=>"1", "unit_master_id"=>"3", "_destroy"=>"false", "quotation_price_1"=>"", "quotation_price_2"=>"", "quotation_price_3"=>"", "material_code"=>"WN5001", "material_name"=>"フルカラー　埋込スイッチＢ", "maker_id"=>"2", "list_price"=>"250", "bid_flag_1"=>"0", "bid_flag_2"=>"0", "bid_flag_3"=>"0", "notes"=>"", "material_category_id"=>"2", "quotation_email_flag_1"=>"0", "order_email_flag_1"=>"0", "quotation_email_flag_2"=>"0", "order_email_flag_2"=>"0", "quotation_email_flag_3"=>"0", "order_email_flag_3"=>"0", "maker_id_hide"=>"", "unit_id_hide"=>"", "material_category_id_hide"=>""}}}, "construction_id"=>"2877", "move_flag"=>"1", "material_code_hide"=>""}
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :last_header_number, :purchase_order_code, :empty, :notes, :all_bid_flag_1, :all_bid_flag_2, :all_bid_flag_3, :sent_flag, :quotation_email_flag, :material_id_hide, :id, :company_id, :force_order_flag[0m
  [1m[36mMakerMaster Load (0.3ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters" WHERE "maker_masters"."id" = $1 ORDER BY "maker_masters"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:649:in `block in set_params_complement'
  [1m[36mMaterialCategory Load (0.2ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories" WHERE "material_categories"."id" = $1 ORDER BY "material_categories"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:671:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:677:in `block in set_params_complement'
  [1m[36mMaterialCategory Create (6.4ms)[0m  [1m[32mINSERT INTO "material_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", ""], ["created_at", "2024-11-27 17:12:35.900759"], ["updated_at", "2024-11-27 17:12:35.900759"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:677:in `block in set_params_complement'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:677:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.4ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 1922], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:690:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.3ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 ORDER BY "material_masters"."id" ASC LIMIT $2[0m  [["id", 1922], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:710:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mMaterialMaster Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND "material_masters"."id" != $2 LIMIT $3[0m  [["material_code", "WN5064"], ["id", 1922], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mMaterialMaster Update (5.0ms)[0m  [1m[33mUPDATE "material_masters" SET "material_category_id" = $1, "updated_at" = $2 WHERE "material_masters"."id" = $3[0m  [["material_category_id", 188], ["updated_at", "2024-11-27 17:12:35.929783"], ["id", 1922]]
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Load (2.0ms)[0m  [1m[34mSELECT "purchase_unit_prices".* FROM "purchase_unit_prices" WHERE (supplier_id = '2' and material_id = '1922') ORDER BY "purchase_unit_prices"."supplier_id" ASC, "purchase_unit_prices"."material_id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:731:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Exists? (2.8ms)[0m  [1m[34mSELECT 1 AS one FROM "purchase_unit_prices" WHERE "purchase_unit_prices"."supplier_id" = $1 AND NOT ("purchase_unit_prices"."supplier_id" = 2 AND "purchase_unit_prices"."material_id" = 1922) AND "purchase_unit_prices"."material_id" = $2 LIMIT $3[0m  [["supplier_id", 2], ["material_id", 1922], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
  [1m[36mMakerMaster Load (0.3ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters" WHERE "maker_masters"."id" = $1 ORDER BY "maker_masters"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:649:in `block in set_params_complement'
  [1m[36mMaterialCategory Load (0.3ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories" WHERE "material_categories"."id" = $1 ORDER BY "material_categories"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:671:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:677:in `block in set_params_complement'
  [1m[36mMaterialCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "material_categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", ""], ["created_at", "2024-11-27 17:12:35.981747"], ["updated_at", "2024-11-27 17:12:35.981747"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:677:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:677:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.5ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 529], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:690:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.4ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 ORDER BY "material_masters"."id" ASC LIMIT $2[0m  [["id", 529], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:710:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mMaterialMaster Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND "material_masters"."id" != $2 LIMIT $3[0m  [["material_code", "WN5063"], ["id", 529], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mMaterialMaster Update (0.4ms)[0m  [1m[33mUPDATE "material_masters" SET "material_category_id" = $1, "updated_at" = $2 WHERE "material_masters"."id" = $3[0m  [["material_category_id", 189], ["updated_at", "2024-11-27 17:12:36.001716"], ["id", 529]]
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Load (0.5ms)[0m  [1m[34mSELECT "purchase_unit_prices".* FROM "purchase_unit_prices" WHERE (supplier_id = '2' and material_id = '529') ORDER BY "purchase_unit_prices"."supplier_id" ASC, "purchase_unit_prices"."material_id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:731:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "purchase_unit_prices" WHERE "purchase_unit_prices"."supplier_id" = $1 AND NOT ("purchase_unit_prices"."supplier_id" = 2 AND "purchase_unit_prices"."material_id" = 529) AND "purchase_unit_prices"."material_id" = $2 LIMIT $3[0m  [["supplier_id", 2], ["material_id", 529], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
  [1m[36mMakerMaster Load (0.4ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters" WHERE "maker_masters"."id" = $1 ORDER BY "maker_masters"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:649:in `block in set_params_complement'
  [1m[36mMaterialCategory Load (0.3ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories" WHERE "material_categories"."id" = $1 ORDER BY "material_categories"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:671:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.3ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 527], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:690:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.3ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 ORDER BY "material_masters"."id" ASC LIMIT $2[0m  [["id", 527], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:710:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mMaterialMaster Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND "material_masters"."id" != $2 LIMIT $3[0m  [["material_code", "WN5061"], ["id", 527], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Load (0.5ms)[0m  [1m[34mSELECT "purchase_unit_prices".* FROM "purchase_unit_prices" WHERE (supplier_id = '2' and material_id = '527') ORDER BY "purchase_unit_prices"."supplier_id" ASC, "purchase_unit_prices"."material_id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:731:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "purchase_unit_prices" WHERE "purchase_unit_prices"."supplier_id" = $1 AND NOT ("purchase_unit_prices"."supplier_id" = 2 AND "purchase_unit_prices"."material_id" = 527) AND "purchase_unit_prices"."material_id" = $2 LIMIT $3[0m  [["supplier_id", 2], ["material_id", 527], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters" WHERE "maker_masters"."id" = $1 ORDER BY "maker_masters"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:649:in `block in set_params_complement'
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories" WHERE "material_categories"."id" = $1 ORDER BY "material_categories"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:671:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.4ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 524], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:690:in `block in set_params_complement'
  [1m[36mMaterialMaster Load (0.3ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 ORDER BY "material_masters"."id" ASC LIMIT $2[0m  [["id", 524], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:710:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mMaterialMaster Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND "material_masters"."id" != $2 LIMIT $3[0m  [["material_code", "WN5001"], ["id", 524], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:719:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Load (0.5ms)[0m  [1m[34mSELECT "purchase_unit_prices".* FROM "purchase_unit_prices" WHERE (supplier_id = '2' and material_id = '524') ORDER BY "purchase_unit_prices"."supplier_id" ASC, "purchase_unit_prices"."material_id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:731:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
  [1m[36mPurchaseUnitPrice Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "purchase_unit_prices" WHERE "purchase_unit_prices"."supplier_id" = $1 AND NOT ("purchase_unit_prices"."supplier_id" = 2 AND "purchase_unit_prices"."material_id" = 524) AND "purchase_unit_prices"."material_id" = $2 LIMIT $3[0m  [["supplier_id", 2], ["material_id", 524], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:738:in `block in set_params_complement'
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :last_header_number, :purchase_order_code, :empty, :notes, :all_bid_flag_1, :all_bid_flag_2, :all_bid_flag_3, :sent_flag, :quotation_email_flag, :material_id_hide, :id, :company_id, :force_order_flag[0m
  [1m[36mQuotationMaterialHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."quotation_code" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["quotation_code", "2024112701"], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:585:in `get_data_on_create_twice'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:442:in `block in create'
  [1m[36mQuotationMaterialHeader Create (1.1ms)[0m  [1m[32mINSERT INTO "quotation_material_headers" ("quotation_code", "requested_date", "construction_datum_id", "supplier_master_id", "responsible", "email", "total_quotation_price_1", "total_quotation_price_2", "total_quotation_price_3", "total_order_price_1", "total_order_price_2", "total_order_price_3", "supplier_id_1", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_code", "2024112701"], ["requested_date", "2024-11-27"], ["construction_datum_id", 2877], ["supplier_master_id", 2], ["responsible", "1"], ["email", "1"], ["total_quotation_price_1", 0], ["total_quotation_price_2", 0], ["total_quotation_price_3", 0], ["total_order_price_1", 0], ["total_order_price_2", 0], ["total_order_price_3", 0], ["supplier_id_1", 2], ["quotation_email_flag_1", 0], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["created_at", "2024-11-27 17:12:36.101619"], ["updated_at", "2024-11-27 17:12:36.101619"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:442:in `block in create'
  [1m[36mQuotationMaterialDetail Create (1.3ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 290], ["material_id", 1922], ["material_code", "WN5064"], ["material_name", "フルカラー埋込ネームスイッチＥ"], ["maker_id", 2], ["maker_name", "パナソニック"], ["quantity", 1], ["unit_master_id", 3], ["list_price", 1230], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 0], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 4], ["created_at", "2024-11-27 17:12:36.111378"], ["updated_at", "2024-11-27 17:12:36.111378"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:442:in `block in create'
  [1m[36mQuotationMaterialDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 290], ["material_id", 529], ["material_code", "WN5063"], ["material_name", "埋込ネームスイッチＤ"], ["maker_id", 1], ["maker_name", "-"], ["quantity", 3], ["unit_master_id", 3], ["list_price", 780], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 0], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 2], ["created_at", "2024-11-27 17:12:36.117488"], ["updated_at", "2024-11-27 17:12:36.117488"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:442:in `block in create'
  [1m[36mQuotationMaterialDetail Create (0.6ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 290], ["material_id", 527], ["material_code", "WN5061"], ["material_name", "埋込ネームスイッチＢ"], ["maker_id", 2], ["maker_name", "パナソニック"], ["quantity", 2], ["unit_master_id", 3], ["list_price", 280], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 0], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 3], ["created_at", "2024-11-27 17:12:36.123128"], ["updated_at", "2024-11-27 17:12:36.123128"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:442:in `block in create'
  [1m[36mQuotationMaterialDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 290], ["material_id", 524], ["material_code", "WN5001"], ["material_name", "フルカラー　埋込スイッチＢ"], ["maker_id", 2], ["maker_name", "パナソニック"], ["quantity", 1], ["unit_master_id", 3], ["list_price", 250], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 0], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 1], ["created_at", "2024-11-27 17:12:36.128039"], ["updated_at", "2024-11-27 17:12:36.128039"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:442:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:442:in `block in create'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  [1m[36mQuotationMaterialDetail Load (3.1ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1[0m  [["quotation_material_header_id", 290]]
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mQuotationMaterialDetail Destroy (0.4ms)[0m  [1m[31mDELETE FROM "quotation_material_details" WHERE "quotation_material_details"."id" = $1[0m  [["id", 8781]]
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mQuotationMaterialDetail Destroy (0.3ms)[0m  [1m[31mDELETE FROM "quotation_material_details" WHERE "quotation_material_details"."id" = $1[0m  [["id", 8782]]
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mQuotationMaterialDetail Destroy (0.3ms)[0m  [1m[31mDELETE FROM "quotation_material_details" WHERE "quotation_material_details"."id" = $1[0m  [["id", 8783]]
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mQuotationMaterialDetail Destroy (1.2ms)[0m  [1m[31mDELETE FROM "quotation_material_details" WHERE "quotation_material_details"."id" = $1[0m  [["id", 8784]]
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:600:in `destroy_before_update'
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :sequential_id_hide, :sort_order, :notes, :material_category_id, :maker_id_hide, :unit_id_hide, :material_category_id_hide[0m
[31mUnpermitted parameters: :last_header_number, :purchase_order_code, :empty, :notes, :all_bid_flag_1, :all_bid_flag_2, :all_bid_flag_3, :sent_flag, :quotation_email_flag, :material_id_hide, :id, :company_id, :force_order_flag[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:1405:in `set_mail_sent_flag'
  [1m[36mConstructionDatum Load (0.3ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1405:in `set_mail_sent_flag'
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1405:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialDetail Create (0.5ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 290], ["material_id", 1922], ["material_code", "WN5064"], ["material_name", "フルカラー埋込ネームスイッチＥ"], ["maker_id", 2], ["maker_name", "パナソニック"], ["quantity", 1], ["unit_master_id", 3], ["list_price", 1230], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 1], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 4], ["created_at", "2024-11-27 17:12:36.203143"], ["updated_at", "2024-11-27 17:12:36.203143"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1405:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 290], ["material_id", 529], ["material_code", "WN5063"], ["material_name", "埋込ネームスイッチＤ"], ["maker_id", 1], ["maker_name", "-"], ["quantity", 3], ["unit_master_id", 3], ["list_price", 780], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 1], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 2], ["created_at", "2024-11-27 17:12:36.213389"], ["updated_at", "2024-11-27 17:12:36.213389"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1405:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialDetail Create (0.3ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 290], ["material_id", 527], ["material_code", "WN5061"], ["material_name", "埋込ネームスイッチＢ"], ["maker_id", 2], ["maker_name", "パナソニック"], ["quantity", 2], ["unit_master_id", 3], ["list_price", 280], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 1], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 3], ["created_at", "2024-11-27 17:12:36.218063"], ["updated_at", "2024-11-27 17:12:36.218063"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1405:in `set_mail_sent_flag'
  [1m[36mQuotationMaterialDetail Create (0.4ms)[0m  [1m[32mINSERT INTO "quotation_material_details" ("quotation_material_header_id", "material_id", "material_code", "material_name", "maker_id", "maker_name", "quantity", "unit_master_id", "list_price", "bid_flag_1", "bid_flag_2", "bid_flag_3", "quotation_email_flag_1", "quotation_email_flag_2", "quotation_email_flag_3", "order_email_flag_1", "order_email_flag_2", "order_email_flag_3", "sequential_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21) RETURNING "id"[0m  [["quotation_material_header_id", 290], ["material_id", 524], ["material_code", "WN5001"], ["material_name", "フルカラー　埋込スイッチＢ"], ["maker_id", 2], ["maker_name", "パナソニック"], ["quantity", 1], ["unit_master_id", 3], ["list_price", 250], ["bid_flag_1", 0], ["bid_flag_2", 0], ["bid_flag_3", 0], ["quotation_email_flag_1", 1], ["quotation_email_flag_2", 0], ["quotation_email_flag_3", 0], ["order_email_flag_1", 0], ["order_email_flag_2", 0], ["order_email_flag_3", 0], ["sequential_id", 1], ["created_at", "2024-11-27 17:12:36.225389"], ["updated_at", "2024-11-27 17:12:36.225389"]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1405:in `set_mail_sent_flag'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:1405:in `set_mail_sent_flag'
  [1m[36mSupplierResponsible Load (0.2ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:79:in `app_set_responsible'
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1 ORDER BY "supplier_responsibles"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:100:in `app_set_responsible'
  [1m[36mSupplierMaster Load (0.6ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 ORDER BY "supplier_masters"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:845:in `send_email'
  [1m[36mQuotationMaterialDetail Load (0.5ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1[0m  [["quotation_material_header_id", 290]]
  ↳ app/pdfs/purchase_order_and_estimate_pdf.rb:56:in `create'
  [1m[36mSupplierResponsible Load (0.2ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 2]]
  ↳ app/pdfs/purchase_order_and_estimate_pdf.rb:101:in `create'
  [1m[36mQuotationMaterialDetail Load (0.4ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1 ORDER BY "quotation_material_details"."sequential_id" ASC[0m  [["quotation_material_header_id", 290]]
  ↳ app/pdfs/purchase_order_and_estimate_pdf.rb:222:in `create'
  [1m[36mUnitMaster Load (0.2ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters" WHERE "unit_masters"."id" = $1 ORDER BY "unit_masters"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/unit_master.rb:35:in `all_list_by_id'
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters" WHERE "unit_masters"."id" = $1 ORDER BY "unit_masters"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/unit_master.rb:35:in `all_list_by_id'
  [1m[36mCACHE UnitMaster Load (0.1ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters" WHERE "unit_masters"."id" = $1 ORDER BY "unit_masters"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/unit_master.rb:35:in `all_list_by_id'
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters" WHERE "unit_masters"."id" = $1 ORDER BY "unit_masters"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/unit_master.rb:35:in `all_list_by_id'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 8)
Sent data estimate_request.pdf (6.1ms)
Completed 200 OK in 1164ms (Views: 5.6ms | ActiveRecord: 60.0ms | Allocations: 904394)


Started GET "/quotation_material_headers?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:12:46 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (8.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (1.2ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (0.7ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.5ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.2ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 239.0ms | Allocations: 211814)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1190.2ms | Allocations: 1048617)
Completed 200 OK in 1199ms (Views: 1178.6ms | ActiveRecord: 13.5ms | Allocations: 1052449)


Started GET "/quotation_material_headers/290/edit?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:12:57 +0900
Processing by QuotationMaterialHeadersController#edit as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1", "id"=>"290"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationMaterialHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1800:in `set_quotation_material_header'
  [1m[36mQuotationMaterialDetail Load (0.7ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1[0m  [["quotation_material_header_id", 290]]
  ↳ app/controllers/quotation_material_headers_controller.rb:282:in `get_max_seq'
  [1m[35m (0.7ms)[0m  [1m[34mSELECT MAX("quotation_material_details"."sequential_id") FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1[0m  [["quotation_material_header_id", 290]]
  ↳ app/controllers/quotation_material_headers_controller.rb:289:in `get_max_seq'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT MAX("quotation_material_details"."sequential_id") FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1[0m  [["quotation_material_header_id", 290]]
  ↳ app/controllers/quotation_material_headers_controller.rb:290:in `get_max_seq'
  [1m[35m (3.8ms)[0m  [1m[34mSELECT "constants"."purchase_order_last_header_code" FROM "constants" WHERE "constants"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:238:in `edit'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/edit.html.erb within layouts/application
  [1m[36mConstructionDatum Load (9.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:34
  [1m[36mQuotationMaterialHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = $1[0m  [["construction_datum_id", 2877]]
  ↳ app/views/quotation_material_headers/_form.html.erb:40:in `map'
  [1m[36mSupplierMaster Load (0.7ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:51
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.1ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:91
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:94
  [1m[36mSupplierResponsible Load (0.5ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:107
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:113
  [1m[36mMaterialMaster Load (7.5ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mUnitMaster Load (0.8ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mMakerMaster Load (0.5ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialCategory Load (0.5ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 547.7ms | Allocations: 548834)
  [1m[36mQuotationMaterialDetail Load (0.7ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1 ORDER BY sequential_id ASC[0m  [["quotation_material_header_id", 290]]
  ↳ app/views/quotation_material_headers/_form.html.erb:461
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialMaster Load (0.5ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 524], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:135
  [1m[36mCACHE MaterialCategory Load (0.1ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 374.4ms | Allocations: 485376)
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 529]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialMaster Load (0.7ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 529], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:135
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 311.7ms | Allocations: 481638)
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 527]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialMaster Load (0.4ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 527], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:135
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 315.2ms | Allocations: 481635)
  [1m[36mCACHE MaterialMaster Load (0.1ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1922]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialMaster Load (0.4ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 1922], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:135
  [1m[36mCACHE MaterialCategory Load (0.1ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 325.9ms | Allocations: 481644)
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mCACHE MaterialCategory Load (0.1ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 305.9ms | Allocations: 479550)
  Rendered quotation_material_headers/_form.html.erb (Duration: 2535.0ms | Allocations: 3204637)
  Rendered quotation_material_headers/edit.html.erb within layouts/application (Duration: 2539.2ms | Allocations: 3205653)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 3472.5ms | Allocations: 4041597)
Completed 200 OK in 3514ms (Views: 3445.6ms | ActiveRecord: 36.2ms | Allocations: 4054868)


Started GET "/quotation_material_headerz/email_select?id=290&supplier_id=2&supplier_id_1=2&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=false&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2877" for ::1 at 2024-11-27 17:13:02 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"290", "supplier_id"=>"2", "supplier_id_1"=>"2", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"false", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2877"}
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1595:in `email_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1596:in `email_select'
  [1m[36mPurchaseOrderDatum Load (0.8ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 2], ["construction_datum_id", 2877], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1599:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1605:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 2], ["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1609:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1613:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 2], ["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1617:in `email_select'
  [1m[36mQuotationMaterialHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1663:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 0.2ms | Allocations: 118)
Completed 200 OK in 32ms (Views: 1.4ms | ActiveRecord: 3.4ms | Allocations: 13276)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=2&construction_datum_id=2877&last_header_number=C2490" for ::1 at 2024-11-27 17:13:03 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"2", "construction_datum_id"=>"2877", "last_header_number"=>"C2490"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "purchase_order_data"."purchase_order_code" FROM "purchase_order_data" WHERE "purchase_order_data"."construction_datum_id" = $1 AND "purchase_order_data"."supplier_master_id" = $2 AND (id is NOT NULL)[0m  [["construction_datum_id", 2877], ["supplier_master_id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1761:in `get_purchase_order_code'
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.2ms | Allocations: 7)
Completed 200 OK in 10ms (Views: 3.2ms | ActiveRecord: 0.7ms | Allocations: 3203)


Started GET "/quotation_material_headers?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:15:00 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (11.1ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (0.8ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (1.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.5ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (0.6ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.6ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 240.4ms | Allocations: 211592)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1078.7ms | Allocations: 1047948)
Completed 200 OK in 1088ms (Views: 1063.4ms | ActiveRecord: 17.2ms | Allocations: 1051599)


Started DELETE "/quotation_material_headers/290?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:19:35 +0900
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by QuotationMaterialHeadersController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "construction_id"=>"2877", "move_flag"=>"1", "id"=>"290"}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationMaterialHeader Load (1.0ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1800:in `set_quotation_material_header'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:606:in `destroy'
  [1m[36mQuotationMaterialHeader Destroy (1.8ms)[0m  [1m[31mDELETE FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1[0m  [["id", 290]]
  ↳ app/controllers/quotation_material_headers_controller.rb:606:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:606:in `destroy'
Redirected to http://localhost:3000/quotation_material_headers?construction_id=2877&move_flag=1
Completed 302 Found in 133ms (ActiveRecord: 15.0ms | Allocations: 45419)


Started GET "/quotation_material_headers?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:19:35 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (13.8ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (1.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (0.6ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.9ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (0.5ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.5ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 392.9ms | Allocations: 271665)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 5898.3ms | Allocations: 2361037)
Completed 200 OK in 5961ms (Views: 5901.8ms | ActiveRecord: 30.9ms | Allocations: 2368268)


Started GET "/quotation_material_headers/new?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:19:44 +0900
Processing by QuotationMaterialHeadersController#new as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1"}
  [1m[35m (3.0ms)[0m  [1m[34mSELECT MAX("quotation_material_headers"."quotation_code") FROM "quotation_material_headers" WHERE (LEFT(quotation_code,8) = '20241127')[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:389:in `get_last_quotation_code_select'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/new.html.erb within layouts/application
  [1m[36mConstructionDatum Load (6.9ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:34
  [1m[36mQuotationMaterialHeader Load (0.5ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = $1[0m  [["construction_datum_id", 2877]]
  ↳ app/views/quotation_material_headers/_form.html.erb:40:in `map'
  [1m[36mSupplierMaster Load (0.8ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:51
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:91
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:94
  [1m[36mSupplierResponsible Load (2.9ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:107
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:113
  [1m[36mMaterialMaster Load (11.1ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mUnitMaster Load (1.2ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mMakerMaster Load (2.5ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialCategory Load (1.2ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 737.2ms | Allocations: 574626)
  [1m[36mQuotationMaterialHeader Load (0.7ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."quotation_code" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["quotation_code", "2024112701"], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_form.html.erb:454
  Rendered quotation_material_headers/_form.html.erb (Duration: 1121.7ms | Allocations: 864772)
  Rendered quotation_material_headers/new.html.erb within layouts/application (Duration: 1125.6ms | Allocations: 865912)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1977.8ms | Allocations: 1704769)
Completed 200 OK in 1992ms (Views: 1927.1ms | ActiveRecord: 55.2ms | Allocations: 1709768)


Started GET "/quotation_material_headerz/email_select?id=&supplier_id=1&supplier_id_1=&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=false&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2877" for ::1 at 2024-11-27 17:19:46 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"", "supplier_id"=>"1", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"false", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2877"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1595:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1596:in `email_select'
  [1m[36mPurchaseOrderDatum Load (4.3ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 1], ["construction_datum_id", 2877], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1599:in `email_select'
  [1m[36mQuotationMaterialHeader Load (0.3ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1622:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1655:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1657:in `email_select'
  [1m[36mCACHE QuotationMaterialHeader Load (0.1ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1663:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 2.0ms | Allocations: 557)
Completed 200 OK in 92ms (Views: 21.1ms | ActiveRecord: 9.8ms | Allocations: 18887)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=1&construction_datum_id=2877&last_header_number=" for ::1 at 2024-11-27 17:19:47 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"1", "construction_datum_id"=>"2877", "last_header_number"=>""}
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.5ms | Allocations: 92)
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 2040)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 17:19:48 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 1.3ms | Allocations: 110)
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 2019)


Started GET "/material_masterz/get_material_id?material_code=WN1001" for ::1 at 2024-11-27 17:19:53 +0900
Processing by MaterialMastersController#get_material_id as */*
  Parameters: {"material_code"=>"WN1001"}
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "material_masters"."id" FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND (id is NOT NULL)[0m  [["material_code", "WN1001"]]
  ↳ app/controllers/material_masters_controller.rb:102:in `get_material_id'
  Rendering material_masters/get_material_id.js.erb
  Rendered material_masters/get_material_id.js.erb (Duration: 1.1ms | Allocations: 127)
Completed 200 OK in 15ms (Views: 6.7ms | ActiveRecord: 2.0ms | Allocations: 4533)


Started GET "/quotation_material_headerz/material_select?id=495&supplier_master_id=1" for ::1 at 2024-11-27 17:19:54 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"495", "supplier_master_id"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:356:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:357:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:359:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:362:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:374:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/controllers/quotation_material_headers_controller.rb:376:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 0.5ms | Allocations: 189)
Completed 200 OK in 27ms (Views: 1.7ms | ActiveRecord: 3.3ms | Allocations: 11475)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 17:19:56 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 0.2ms | Allocations: 10)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.0ms | Allocations: 1756)


Started GET "/quotation_material_headerz/material_select?id=524&supplier_master_id=1" for ::1 at 2024-11-27 17:20:04 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"524", "supplier_master_id"=>"1"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:356:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:357:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:359:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:362:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:374:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:376:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 0.1ms | Allocations: 14)
Completed 200 OK in 24ms (Views: 1.3ms | ActiveRecord: 3.6ms | Allocations: 10910)


Started GET "/quotation_material_headers?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:20:18 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (9.2ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (1.0ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (0.5ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 215.1ms | Allocations: 206642)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1073.8ms | Allocations: 1043492)
Completed 200 OK in 1084ms (Views: 1061.8ms | ActiveRecord: 14.3ms | Allocations: 1047166)


Started GET "/quotation_material_headers/287/edit?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:20:22 +0900
Processing by QuotationMaterialHeadersController#edit as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1", "id"=>"287"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mQuotationMaterialHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1800:in `set_quotation_material_header'
  [1m[36mQuotationMaterialDetail Load (1.0ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1[0m  [["quotation_material_header_id", 287]]
  ↳ app/controllers/quotation_material_headers_controller.rb:282:in `get_max_seq'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT MAX("quotation_material_details"."sequential_id") FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1[0m  [["quotation_material_header_id", 287]]
  ↳ app/controllers/quotation_material_headers_controller.rb:289:in `get_max_seq'
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT MAX("quotation_material_details"."sequential_id") FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1[0m  [["quotation_material_header_id", 287]]
  ↳ app/controllers/quotation_material_headers_controller.rb:290:in `get_max_seq'
  [1m[35m (3.3ms)[0m  [1m[34mSELECT "constants"."purchase_order_last_header_code" FROM "constants" WHERE "constants"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:238:in `edit'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/edit.html.erb within layouts/application
  [1m[36mConstructionDatum Load (9.6ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:34
  [1m[36mQuotationMaterialHeader Load (0.9ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = $1[0m  [["construction_datum_id", 2877]]
  ↳ app/views/quotation_material_headers/_form.html.erb:40:in `map'
  [1m[36mSupplierMaster Load (1.2ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:51
  [1m[36mCACHE SupplierMaster Load (0.1ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:91
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:94
  [1m[36mSupplierResponsible Load (0.5ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:107
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:113
  [1m[36mMaterialMaster Load (10.4ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mUnitMaster Load (0.6ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mMakerMaster Load (0.9ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialCategory Load (0.4ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 666.4ms | Allocations: 548783)
  [1m[36mQuotationMaterialDetail Load (0.7ms)[0m  [1m[34mSELECT "quotation_material_details".* FROM "quotation_material_details" WHERE "quotation_material_details"."quotation_material_header_id" = $1 ORDER BY sequential_id ASC[0m  [["quotation_material_header_id", 287]]
  ↳ app/views/quotation_material_headers/_form.html.erb:461
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.1ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 495]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialMaster Load (0.5ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 495], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:135
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 313.5ms | Allocations: 485388)
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 3010]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialMaster Load (0.5ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 3010], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:135
  [1m[36mCACHE MaterialCategory Load (0.1ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 321.7ms | Allocations: 481642)
  [1m[36mCACHE MaterialMaster Load (0.1ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 4673]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialMaster Load (0.4ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 4673], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:135
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 306.8ms | Allocations: 481632)
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.1ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2522]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialMaster Load (0.6ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 2522], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:135
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 327.3ms | Allocations: 481643)
  [1m[36mCACHE MaterialMaster Load (0.1ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2426]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialMaster Load (0.4ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 2426], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:135
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 311.7ms | Allocations: 481643)
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialMaster Load (0.5ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 524], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:135
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 435.9ms | Allocations: 481647)
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 4648]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialMaster Load (0.5ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters" WHERE "material_masters"."id" = $1 LIMIT $2[0m  [["id", 4648], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:135
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 302.9ms | Allocations: 481653)
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.0ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35mCACHE  (0.0ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mCACHE MaterialCategory Load (0.0ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 311.0ms | Allocations: 479495)
  Rendered quotation_material_headers/_form.html.erb (Duration: 3612.1ms | Allocations: 4651572)
  Rendered quotation_material_headers/edit.html.erb within layouts/application (Duration: 3621.3ms | Allocations: 4652588)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 4607.0ms | Allocations: 5488187)
Completed 200 OK in 4648ms (Views: 4573.9ms | ActiveRecord: 46.0ms | Allocations: 5501699)


Started GET "/quotation_material_headerz/email_select?id=287&supplier_id=2&supplier_id_1=2&supplier_id_2=4&supplier_id_3=87&quotation_email_flag_1=true&quotation_email_flag_2=true&quotation_email_flag_3=true&construction_id=2877" for ::1 at 2024-11-27 17:20:29 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"287", "supplier_id"=>"2", "supplier_id_1"=>"2", "supplier_id_2"=>"4", "supplier_id_3"=>"87", "quotation_email_flag_1"=>"true", "quotation_email_flag_2"=>"true", "quotation_email_flag_3"=>"true", "construction_id"=>"2877"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1595:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1596:in `email_select'
  [1m[36mPurchaseOrderDatum Load (0.7ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 2], ["construction_datum_id", 2877], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1599:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1605:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 2], ["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1609:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1613:in `email_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1 AND "supplier_responsibles"."id" != $2[0m  [["supplier_master_id", 2], ["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1617:in `email_select'
  [1m[36mQuotationMaterialHeader Load (1.1ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1663:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 0.2ms | Allocations: 119)
Completed 200 OK in 34ms (Views: 1.2ms | ActiveRecord: 4.0ms | Allocations: 17383)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=2&construction_datum_id=2877&last_header_number=C2490" for ::1 at 2024-11-27 17:20:30 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"2", "construction_datum_id"=>"2877", "last_header_number"=>"C2490"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "purchase_order_data"."purchase_order_code" FROM "purchase_order_data" WHERE "purchase_order_data"."construction_datum_id" = $1 AND "purchase_order_data"."supplier_master_id" = $2 AND (id is NOT NULL)[0m  [["construction_datum_id", 2877], ["supplier_master_id", 2]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1761:in `get_purchase_order_code'
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.0ms | Allocations: 7)
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 0.9ms | Allocations: 3217)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 17:20:33 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 0.1ms | Allocations: 9)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms | Allocations: 1742)


Started GET "/material_masterz/get_material_id?material_code=WN5001" for ::1 at 2024-11-27 17:20:43 +0900
Processing by MaterialMastersController#get_material_id as */*
  Parameters: {"material_code"=>"WN5001"}
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "material_masters"."id" FROM "material_masters" WHERE "material_masters"."material_code" = $1 AND (id is NOT NULL)[0m  [["material_code", "WN5001"]]
  ↳ app/controllers/material_masters_controller.rb:102:in `get_material_id'
  Rendering material_masters/get_material_id.js.erb
  Rendered material_masters/get_material_id.js.erb (Duration: 0.0ms | Allocations: 7)
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 2.2ms | Allocations: 3036)


Started GET "/quotation_material_headerz/material_select?id=524&supplier_master_id=2" for ::1 at 2024-11-27 17:20:45 +0900
Processing by QuotationMaterialHeadersController#material_select as */*
  Parameters: {"id"=>"524", "supplier_master_id"=>"2"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "material_masters"."material_code" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:356:in `material_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "material_masters"."material_name" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:357:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."list_price" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:358:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."maker_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:359:in `material_select'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."unit_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:362:in `material_select'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:374:in `material_select'
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "material_masters"."material_category_id" FROM "material_masters" WHERE "material_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 524]]
  ↳ app/controllers/quotation_material_headers_controller.rb:376:in `material_select'
  Rendering quotation_material_headers/material_select.js.erb
  Rendered quotation_material_headers/material_select.js.erb (Duration: 0.2ms | Allocations: 14)
Completed 200 OK in 23ms (Views: 1.1ms | ActiveRecord: 3.5ms | Allocations: 10917)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 17:20:49 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 0.1ms | Allocations: 9)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.0ms | Allocations: 1742)


Started GET "/quotation_material_headers?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 17:20:54 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (7.2ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (0.8ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (0.4ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.3ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (0.2ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.2ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 234.8ms | Allocations: 206469)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1076.9ms | Allocations: 1042824)
Completed 200 OK in 1090ms (Views: 1068.0ms | ActiveRecord: 10.9ms | Allocations: 1046475)


Started GET "/quotation_material_headers/new?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 18:14:34 +0900
Processing by QuotationMaterialHeadersController#new as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1"}
  [1m[35m (6.7ms)[0m  [1m[34mSELECT MAX("quotation_material_headers"."quotation_code") FROM "quotation_material_headers" WHERE (LEFT(quotation_code,8) = '20241127')[0m
  ↳ app/controllers/quotation_material_headers_controller.rb:389:in `get_last_quotation_code_select'
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/new.html.erb within layouts/application
  [1m[36mConstructionDatum Load (22.1ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:34
  [1m[36mQuotationMaterialHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = $1[0m  [["construction_datum_id", 2877]]
  ↳ app/views/quotation_material_headers/_form.html.erb:40:in `map'
  [1m[36mSupplierMaster Load (2.7ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:51
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:91
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:94
  [1m[36mSupplierResponsible Load (1.3ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:107
  [1m[36mCACHE SupplierResponsible Load (0.0ms)[0m  [1m[34mSELECT "supplier_responsibles".* FROM "supplier_responsibles"[0m
  ↳ app/views/quotation_material_headers/_form.html.erb:113
  [1m[36mMaterialMaster Load (17.1ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:45
  [1m[36mCACHE MaterialMaster Load (0.0ms)[0m  [1m[34mSELECT "material_masters".* FROM "material_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:49
  [1m[36mUnitMaster Load (1.1ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:56
  [1m[36mCACHE UnitMaster Load (0.1ms)[0m  [1m[34mSELECT "unit_masters".* FROM "unit_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:58
  [1m[36mMakerMaster Load (2.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:98
  [1m[36mCACHE MakerMaster Load (0.0ms)[0m  [1m[34mSELECT "maker_masters".* FROM "maker_masters"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:102
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "material_masters"."notes" FROM "material_masters" WHERE "material_masters"."id" IS NULL AND (id is NOT NULL)[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:127
  [1m[36mMaterialCategory Load (1.5ms)[0m  [1m[34mSELECT "material_categories".* FROM "material_categories"[0m
  ↳ app/views/quotation_material_headers/_quotation_material_detail_fields.html.erb:142
  Rendered quotation_material_headers/_quotation_material_detail_fields.html.erb (Duration: 902.1ms | Allocations: 548387)
  [1m[36mQuotationMaterialHeader Load (0.4ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."quotation_code" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["quotation_code", "2024112701"], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/_form.html.erb:454
  Rendered quotation_material_headers/_form.html.erb (Duration: 1491.3ms | Allocations: 790161)
  Rendered quotation_material_headers/new.html.erb within layouts/application (Duration: 1508.0ms | Allocations: 790954)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 2706.9ms | Allocations: 1626843)
Completed 200 OK in 3161ms (Views: 2663.4ms | ActiveRecord: 96.7ms | Allocations: 1637072)


Started GET "/quotation_material_headerz/email_select?id=&supplier_id=1&supplier_id_1=&supplier_id_2=&supplier_id_3=&quotation_email_flag_1=false&quotation_email_flag_2=false&quotation_email_flag_3=false&construction_id=2877" for ::1 at 2024-11-27 18:14:38 +0900
Processing by QuotationMaterialHeadersController#email_select as */*
  Parameters: {"id"=>"", "supplier_id"=>"1", "supplier_id_1"=>"", "supplier_id_2"=>"", "supplier_id_3"=>"", "quotation_email_flag_1"=>"false", "quotation_email_flag_2"=>"false", "quotation_email_flag_3"=>"false", "construction_id"=>"2877"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."email1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1595:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "supplier_masters"."responsible1" FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 AND (id is NOT NULL)[0m  [["id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1596:in `email_select'
  [1m[36mPurchaseOrderDatum Load (4.1ms)[0m  [1m[34mSELECT "purchase_order_data".* FROM "purchase_order_data" WHERE "purchase_order_data"."supplier_master_id" = $1 AND "purchase_order_data"."construction_datum_id" = $2 ORDER BY "purchase_order_data"."id" ASC LIMIT $3[0m  [["supplier_master_id", 1], ["construction_datum_id", 2877], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1599:in `email_select'
  [1m[36mQuotationMaterialHeader Load (0.3ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1622:in `email_select'
  [1m[35m (1.1ms)[0m  [1m[34mSELECT responsible_name, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1655:in `email_select'
  [1m[35m (0.4ms)[0m  [1m[34mSELECT responsible_email, id FROM "supplier_responsibles" WHERE "supplier_responsibles"."supplier_master_id" = $1[0m  [["supplier_master_id", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1657:in `email_select'
  [1m[36mCACHE QuotationMaterialHeader Load (0.0ms)[0m  [1m[34mSELECT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."id" = $1 ORDER BY "quotation_material_headers"."id" ASC LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/quotation_material_headers_controller.rb:1663:in `email_select'
  Rendering quotation_material_headers/email_select.js.erb
  Rendered quotation_material_headers/email_select.js.erb (Duration: 0.2ms | Allocations: 325)
Completed 200 OK in 32ms (Views: 1.1ms | ActiveRecord: 6.7ms | Allocations: 11942)


Started GET "/quotation_material_headerz/get_purchase_order_code?supplier_master_id=1&construction_datum_id=2877&last_header_number=" for ::1 at 2024-11-27 18:14:38 +0900
Processing by QuotationMaterialHeadersController#get_purchase_order_code as */*
  Parameters: {"supplier_master_id"=>"1", "construction_datum_id"=>"2877", "last_header_number"=>""}
  Rendering quotation_material_headers/get_purchase_order_code.js.erb
  Rendered quotation_material_headers/get_purchase_order_code.js.erb (Duration: 0.0ms | Allocations: 6)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 1741)


Started GET "/quotation_material_headerz/set_sequence" for ::1 at 2024-11-27 18:14:39 +0900
Processing by QuotationMaterialHeadersController#set_sequence as */*
  Rendering quotation_material_headers/set_sequence.js.erb
  Rendered quotation_material_headers/set_sequence.js.erb (Duration: 0.1ms | Allocations: 9)
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 1742)


Started GET "/quotation_material_headers?construction_id=2877&move_flag=1" for ::1 at 2024-11-27 18:14:46 +0900
Processing by QuotationMaterialHeadersController#index as HTML
  Parameters: {"construction_id"=>"2877", "move_flag"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering quotation_material_headers/index.html.erb within layouts/application
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT DISTINCT "quotation_material_headers"."id" AS count_column FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(DISTINCT "quotation_material_headers"."id") FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877[0m
  ↳ app/views/quotation_material_headers/index.html.erb:9
  [1m[36mConstructionDatum Load (12.1ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data"[0m
  ↳ app/views/quotation_material_headers/index.html.erb:13:in `map'
  [1m[36mQuotationMaterialHeader Load (2.2ms)[0m  [1m[34mSELECT DISTINCT "quotation_material_headers".* FROM "quotation_material_headers" WHERE "quotation_material_headers"."construction_datum_id" = 2877 ORDER BY quotation_code desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 25], ["OFFSET", 0]]
  ↳ app/views/quotation_material_headers/index.html.erb:59
  [1m[36mConstructionDatum Load (1.6ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mSupplierMaster Load (0.6ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mSupplierMaster Load (0.5ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mSupplierMaster Load (0.4ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  [1m[36mCACHE ConstructionDatum Load (0.0ms)[0m  [1m[34mSELECT "construction_data".* FROM "construction_data" WHERE "construction_data"."id" = $1 LIMIT $2[0m  [["id", 2877], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:65
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:80
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:88
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:96
  [1m[36mCACHE SupplierMaster Load (0.0ms)[0m  [1m[34mSELECT "supplier_masters".* FROM "supplier_masters" WHERE "supplier_masters"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/quotation_material_headers/index.html.erb:104
  Rendered quotation_material_headers/index.html.erb within layouts/application (Duration: 242.4ms | Allocations: 206416)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1100.1ms | Allocations: 1042633)
Completed 200 OK in 1114ms (Views: 1081.8ms | ActiveRecord: 21.0ms | Allocations: 1046201)


Started GET "/system/index" for ::1 at 2024-12-06 10:51:19 +0900
  [1m[35m (3.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SystemController#index as HTML
  [1m[36mUser Load (2.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering system/index.html.erb within layouts/application
  Rendered system/_logged_in.html.erb (Duration: 1.0ms | Allocations: 328)
  Rendered system/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 1617)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 7886.8ms | Allocations: 2090767)
Completed 200 OK in 7975ms (Views: 7906.3ms | ActiveRecord: 21.8ms | Allocations: 2106528)


Started GET "/customer_masters" for ::1 at 2024-12-06 10:52:20 +0900
Processing by CustomerMastersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  Rendering layout layouts/application.html.erb
  Rendering customer_masters/index.html.erb within layouts/application
  [1m[35m (9.5ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT 1 AS one FROM "customer_masters" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/customer_masters/index.html.erb:10
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "customer_masters"[0m
  ↳ app/views/customer_masters/index.html.erb:10
  [1m[36mCustomerMaster Load (2.5ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters"[0m
  ↳ app/views/customer_masters/index.html.erb:14
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters"[0m
  ↳ app/views/customer_masters/index.html.erb:20
  [1m[36mCustomerMaster Load (0.9ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" ORDER BY id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/customer_masters/index.html.erb:85
  Rendered customer_masters/index.html.erb within layouts/application (Duration: 317.3ms | Allocations: 260774)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1217.5ms | Allocations: 1098053)
Completed 200 OK in 1271ms (Views: 1209.0ms | ActiveRecord: 19.3ms | Allocations: 1107458)


Started GET "/customer_masters.pdf?print_flag=2" for ::1 at 2024-12-06 10:52:29 +0900
Processing by CustomerMastersController#index as PDF
  Parameters: {"print_flag"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  [1m[36mCustomerMaster Load (2.3ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/pdfs/customer_list_card_pdf.rb:23:in `create'
  Rendering text template
  Rendered text template (Duration: 0.0ms | Allocations: 9)
Sent data customer_list_card.pdf (5.9ms)
Completed 200 OK in 2622ms (Views: 5.3ms | ActiveRecord: 4.5ms | Allocations: 4359174)


Started GET "/customer_masters/4" for ::1 at 2024-12-06 10:52:45 +0900
Processing by CustomerMastersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCustomerMaster Load (0.3ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/customer_masters_controller.rb:178:in `set_customer_master'
  Rendering layout layouts/application.html.erb
  Rendering customer_masters/show.html.erb within layouts/application
  Rendered customer_masters/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2263)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 824.6ms | Allocations: 838282)
Completed 200 OK in 832ms (Views: 825.7ms | ActiveRecord: 0.3ms | Allocations: 841825)


Started GET "/customer_masters/4/edit" for ::1 at 2024-12-06 10:52:48 +0900
Processing by CustomerMastersController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mCustomerMaster Load (0.4ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" WHERE "customer_masters"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/customer_masters_controller.rb:178:in `set_customer_master'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  Rendering layout layouts/application.html.erb
  Rendering customer_masters/edit.html.erb within layouts/application
  Rendered customer_masters/_form.html.erb (Duration: 46.4ms | Allocations: 29463)
  Rendered customer_masters/edit.html.erb within layouts/application (Duration: 54.5ms | Allocations: 30600)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 863.6ms | Allocations: 867289)
Completed 200 OK in 874ms (Views: 864.7ms | ActiveRecord: 1.1ms | Allocations: 873274)


Started GET "/customer_masters" for ::1 at 2024-12-06 10:53:43 +0900
Processing by CustomerMastersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  Rendering layout layouts/application.html.erb
  Rendering customer_masters/index.html.erb within layouts/application
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM (SELECT 1 AS one FROM "customer_masters" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/customer_masters/index.html.erb:10
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "customer_masters"[0m
  ↳ app/views/customer_masters/index.html.erb:10
  [1m[36mCustomerMaster Load (1.2ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters"[0m
  ↳ app/views/customer_masters/index.html.erb:14
  [1m[36mCACHE CustomerMaster Load (0.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters"[0m
  ↳ app/views/customer_masters/index.html.erb:20
  [1m[36mCustomerMaster Load (1.0ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" ORDER BY id desc LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/views/customer_masters/index.html.erb:85
  Rendered customer_masters/index.html.erb within layouts/application (Duration: 195.4ms | Allocations: 212215)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1063.3ms | Allocations: 1047745)
Completed 200 OK in 1076ms (Views: 1060.8ms | ActiveRecord: 5.0ms | Allocations: 1052588)


Started GET "/customer_masters.pdf?print_flag=2" for ::1 at 2024-12-06 10:53:47 +0900
Processing by CustomerMastersController#index as PDF
  Parameters: {"print_flag"=>"2"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE (id = 1) ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:372:in `app_get_session_user'
  [1m[36mCustomerMaster Load (0.7ms)[0m  [1m[34mSELECT "customer_masters".* FROM "customer_masters" LIMIT $1 OFFSET $2[0m  [["LIMIT", 200], ["OFFSET", 0]]
  ↳ app/pdfs/customer_list_card_pdf.rb:23:in `create'
  Rendering text template
  Rendered text template (Duration: 0.1ms | Allocations: 5)
Sent data customer_list_card.pdf (2.4ms)
Completed 200 OK in 2400ms (Views: 2.0ms | ActiveRecord: 2.0ms | Allocations: 4316547)


Started GET "/system/index" for ::1 at 2024-12-06 11:01:10 +0900
Processing by SystemController#index as HTML
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/sessions_helper.rb:10:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering system/index.html.erb within layouts/application
  Rendered system/_logged_in.html.erb (Duration: 0.5ms | Allocations: 128)
  Rendered system/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 771)
DEPRECATION WARNING: The asset "apple-touch-icon-144x144-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-114x114-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-72x72-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "apple-touch-icon-precomposed.png" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
DEPRECATION WARNING: The asset "favicon.ico" is not present in the asset pipeline.
Falling back to an asset that may be in the public folder.
This behavior is deprecated and will be removed.
To bypass the asset pipeline and preserve this behavior,
use the `skip_pipeline: true` option.
 (called from asset_path at C:/Ruby31-x64/lib/ruby/gems/3.1.0/gems/actionview-6.1.6/lib/action_view/helpers/asset_url_helper.rb:203)
  Rendered layout layouts/application.html.erb (Duration: 1034.2ms | Allocations: 837261)
Completed 200 OK in 1309ms (Views: 1039.2ms | ActiveRecord: 16.8ms | Allocations: 851045)


